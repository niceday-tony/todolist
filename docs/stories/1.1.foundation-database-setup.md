# Story 1.1: Foundation & Database Setup

## Story Overview

**Story ID**: 1.1
**Epic**: Foundation & Plant Companion Core
**Estimated Effort**: 2 hours
**Priority**: Critical (Dependency for all other stories)

## User Story

As a **developer**,
I want **to establish the complete project infrastructure with working database connectivity**,
So that **the application can reliably persist TODO and plant data for immediate development**.

## Acceptance Criteria

### Foundation Setup
1. ✅ Spring Boot project created using Spring Initializr with Java 17
2. ✅ Maven pom.xml includes all required dependencies (Web, Data JPA, MySQL Driver, Validation)
3. ✅ React TypeScript project created using Vite template
4. ✅ Basic project structure matches architecture specifications
5. ✅ README.md with setup instructions created

### Database Connectivity
6. ✅ MySQL database connection configured using existing docker-compose.yml
7. ✅ application.yml configured with correct database parameters
8. ✅ Database connection tested successfully on startup
9. ✅ JPA configuration working (show-sql enabled for development)
10. ✅ Health check endpoint (`/api/health`) responding correctly

### Core Data Models
11. ✅ `Todo` JPA entity created with all required fields
12. ✅ `Plant` JPA entity created with all required fields
13. ✅ Database tables auto-created via JPA DDL
14. ✅ Basic constraints and relationships defined
15. ✅ Initial seed data (default plant) inserted

### Frontend-Backend Integration
16. ✅ React project can call Spring Boot API endpoints
17. ✅ CORS configuration allows frontend calls
18. ✅ Axios client configured with base URL
19. ✅ Basic connectivity test (ping/pong) working
20. ✅ Error handling for connection failures implemented

## Technical Implementation Details

### Dependencies Sequence (Critical for Success)
1. **First**: Docker MySQL container running
2. **Second**: Spring Boot project with database connectivity
3. **Third**: JPA entities and table creation
4. **Fourth**: React project with API client setup
5. **Last**: Cross-service connectivity verification

### Spring Boot Dependencies (pom.xml)
```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-j</artifactId>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
</dependencies>
```

### Required Entity Fields
**Todo Entity**:
- id (Long, Primary Key)
- title (String, NOT NULL, max 255)
- description (String, max 1000)
- completed (Boolean, default false)
- completedAt (LocalDateTime, nullable)
- createdAt (LocalDateTime, auto-generated)
- updatedAt (LocalDateTime, auto-updated)
- plantId (Long, Foreign Key)

**Plant Entity**:
- id (Long, Primary Key)
- name (String, default "내 식물")
- species (String, default "해바라기")
- growthPoints (Integer, default 0)
- currentStage (Integer, default 1)
- createdAt (LocalDateTime, auto-generated)
- lastInteractionAt (LocalDateTime)

### React Dependencies (package.json)
```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "axios": "^1.6.0",
    "react-router-dom": "^6.8.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@vitejs/plugin-react": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^4.4.0"
  }
}
```

## Definition of Done Checklist

### Foundation Verification
- [ ] `mvn spring-boot:run` successfully starts on port 8080
- [ ] `npm run dev` successfully starts on port 3000
- [ ] MySQL container running and accepting connections
- [ ] No compilation errors in either project
- [ ] Both projects can be started simultaneously

### Database Verification
- [ ] Database tables exist: `todos`, `plants`
- [ ] Foreign key relationship `todos.plant_id -> plants.id` working
- [ ] Default plant record exists with id=1
- [ ] JPA queries execute without errors
- [ ] Connection pooling working properly

### Integration Verification
- [ ] Frontend can fetch from `/api/health` endpoint
- [ ] CORS headers present in responses
- [ ] Error responses properly formatted as JSON
- [ ] Network requests show in browser DevTools
- [ ] No console errors in browser or server

### Code Quality
- [ ] Code follows existing patterns from architecture docs
- [ ] Proper error handling implemented
- [ ] Logging configured appropriately
- [ ] Comments added for complex configurations
- [ ] Git commit with meaningful message

## Success Criteria

Story is complete when:
1. **Both services start cleanly** without manual intervention
2. **Database connectivity confirmed** via successful queries
3. **Cross-service communication working** with test endpoints
4. **Next story can begin immediately** without additional setup
5. **All acceptance criteria verified** with evidence

## Blocking Dependencies

**Blocked By**: None (First story)
**Blocks**: All subsequent stories (1.2, 1.3, 1.4, 1.5)

## Notes for Implementer

- Use existing `docker-compose.yml` exactly as provided
- Follow package naming convention: `com.study.todolist.*`
- Use database name `todolist` as specified in existing configuration
- Test database connection before proceeding to entity creation
- Verify foreign key constraints work before marking complete
- This story must be 100% complete before any other story begins