# Story 1.5: Integrated Dashboard UI

## Story Overview

**Story ID**: 1.5
**Epic**: Foundation & Plant Companion Core
**Estimated Effort**: 1.5 hours
**Priority**: Critical (User experience completion)

## User Story

As a **user**,
I want **to see my TODOs and plant together in a beautiful, unified interface**,
So that **I can easily understand and enjoy the connection between my tasks and plant growth**.

## Acceptance Criteria

### Unified Dashboard Layout
1. ‚úÖ Main dashboard displays TODO list and plant side-by-side
2. ‚úÖ Layout adapts responsively: desktop side-by-side, mobile stacked
3. ‚úÖ Plant and TODOs visually balanced with appropriate spacing
4. ‚úÖ Header with app title "GrowTogether" and plant name
5. ‚úÖ Footer with basic information and version

### Visual Design System
6. ‚úÖ Warm, natural color palette with green accent colors
7. ‚úÖ Consistent typography hierarchy throughout interface
8. ‚úÖ Rounded corners and soft shadows for friendly appearance
9. ‚úÖ Plant-themed icons and visual elements
10. ‚úÖ Professional but approachable visual style

### Interactive Connection Visualization
11. ‚úÖ Visual feedback when TODO completion affects plant
12. ‚úÖ Subtle connection lines or animations between TODO and plant areas
13. ‚úÖ Plant area highlights or pulses during growth events
14. ‚úÖ TODO completion creates visual flow toward plant
15. ‚úÖ Immediate plant state update visible after TODO action

### Accessibility & Usability
16. ‚úÖ WCAG 2.1 AA color contrast compliance
17. ‚úÖ Proper heading hierarchy and semantic HTML
18. ‚úÖ Keyboard navigation works for all interactive elements
19. ‚úÖ Screen reader friendly with appropriate ARIA labels
20. ‚úÖ Touch-friendly sizing on mobile devices (44px minimum)

## Technical Implementation Details

### Implementation Sequence
1. **Design System Tokens** ‚Üí CSS custom properties for consistency
2. **Layout Components** ‚Üí Responsive grid system
3. **Dashboard Layout** ‚Üí Main application structure
4. **Visual Polish** ‚Üí Colors, typography, spacing
5. **Accessibility Implementation** ‚Üí ARIA attributes, focus management
6. **Mobile Responsiveness** ‚Üí Touch optimization

### Design System (CSS Custom Properties)

**design-tokens.css**:
```css
:root {
  /* Brand Colors - Natural & Warm */
  --color-primary-green: #22c55e;
  --color-primary-light: #86efac;
  --color-primary-dark: #15803d;
  --color-accent-warm: #f59e0b;
  --color-accent-earth: #a3a3a3;

  /* Background Colors */
  --color-background-main: #fefefe;
  --color-background-secondary: #f8fafc;
  --color-background-elevated: #ffffff;

  /* Text Colors */
  --color-text-primary: #1f2937;
  --color-text-secondary: #6b7280;
  --color-text-success: var(--color-primary-dark);

  /* Interactive Colors */
  --color-interactive-hover: #f3f4f6;
  --color-border-subtle: #e5e7eb;
  --color-border-strong: #d1d5db;

  /* Typography Scale */
  --font-family-primary: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;

  /* Spacing Scale */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* Transitions */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}
```

### Dashboard Layout Component

**Dashboard.tsx**:
```typescript
export const Dashboard: React.FC = () => {
    const { todos, loading: todosLoading, completeTodo, createTodo } = useTodos();
    const { plant, loading: plantLoading, refreshPlant } = usePlant(1);

    const handleTodoComplete = async (todoId: number) => {
        const response = await completeTodo(todoId);
        if (response.plant) {
            await refreshPlant();
        }
    };

    return (
        <div className="dashboard">
            <header className="dashboard-header">
                <div className="header-content">
                    <h1 className="app-title">
                        <span className="app-name">GrowTogether</span>
                        {plant && (
                            <span className="plant-name">with {plant.name}</span>
                        )}
                    </h1>
                </div>
            </header>

            <main className="dashboard-main">
                <div className="dashboard-grid">
                    <section className="todos-section" aria-label="Ìï† Ïùº Î™©Î°ù">
                        <div className="section-header">
                            <h2>Ïò§ÎäòÏùò Ìï† Ïùº</h2>
                            <span className="todo-count">
                                {todos.filter(t => !t.completed).length}Í∞ú ÎÇ®Ïùå
                            </span>
                        </div>

                        <TodoList
                            todos={todos}
                            loading={todosLoading}
                            onComplete={handleTodoComplete}
                        />

                        <TodoForm onSubmit={createTodo} />
                    </section>

                    <section className="plant-section" aria-label="ÏãùÎ¨º ÎèôÎ∞òÏûê">
                        <div className="section-header">
                            <h2>{plant?.name || 'ÎÇ¥ ÏãùÎ¨º'}</h2>
                            <span className="plant-stage">
                                {plant?.currentStage} Îã®Í≥Ñ
                            </span>
                        </div>

                        <PlantView
                            plant={plant}
                            loading={plantLoading}
                        />

                        <PlantStats plant={plant} />
                    </section>
                </div>
            </main>

            <footer className="dashboard-footer">
                <div className="footer-content">
                    <span>GrowTogether v1.0 - ÏãùÎ¨ºÍ≥º Ìï®Íªò ÏÑ±Ïû•ÌïòÏÑ∏Ïöî üå±</span>
                </div>
            </footer>
        </div>
    );
};
```

### Responsive Layout Styles

**dashboard.css**:
```css
.dashboard {
    min-height: 100vh;
    background-color: var(--color-background-main);
    display: flex;
    flex-direction: column;
}

.dashboard-header {
    background-color: var(--color-background-elevated);
    border-bottom: 1px solid var(--color-border-subtle);
    padding: var(--space-4) var(--space-6);
    box-shadow: var(--shadow-sm);
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
}

.app-title {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--color-text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.app-name {
    color: var(--color-primary-green);
}

.plant-name {
    font-size: var(--font-size-lg);
    font-weight: 400;
    color: var(--color-text-secondary);
}

.dashboard-main {
    flex: 1;
    padding: var(--space-8) var(--space-6);
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-12);
    align-items: start;
}

.todos-section,
.plant-section {
    background-color: var(--color-background-elevated);
    border-radius: var(--radius-lg);
    padding: var(--space-6);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--color-border-subtle);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--color-border-subtle);
}

.section-header h2 {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--color-text-primary);
    margin: 0;
}

.todo-count,
.plant-stage {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    background-color: var(--color-background-secondary);
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-sm);
}

.dashboard-footer {
    background-color: var(--color-background-secondary);
    border-top: 1px solid var(--color-border-subtle);
    padding: var(--space-4) var(--space-6);
    text-align: center;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
}

/* Mobile Responsive Design */
@media (max-width: 768px) {
    .dashboard-header {
        padding: var(--space-3) var(--space-4);
    }

    .app-title {
        font-size: var(--font-size-xl);
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-1);
    }

    .dashboard-main {
        padding: var(--space-6) var(--space-4);
    }

    .dashboard-grid {
        grid-template-columns: 1fr;
        gap: var(--space-8);
    }

    .todos-section,
    .plant-section {
        padding: var(--space-4);
    }

    .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-2);
    }
}

/* Touch Device Optimizations */
@media (pointer: coarse) {
    .dashboard-grid {
        gap: var(--space-6);
    }

    .section-header h2 {
        font-size: var(--font-size-lg);
    }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    .todos-section,
    .plant-section {
        border-width: 2px;
        border-color: var(--color-border-strong);
    }
}
```

### Connection Visualization Effects

**connection-effects.css**:
```css
/* Visual connection between TODO and plant areas */
.dashboard-grid.connection-active::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 2px;
    height: 40px;
    background: linear-gradient(
        to bottom,
        transparent,
        var(--color-primary-light),
        transparent
    );
    transform: translate(-50%, -50%);
    opacity: 0;
    animation: connectionPulse 0.8s ease-in-out;
}

@keyframes connectionPulse {
    0%, 100% { opacity: 0; }
    50% { opacity: 0.6; }
}

/* Plant section highlight during growth */
.plant-section.growth-active {
    box-shadow: 0 0 0 2px var(--color-primary-light),
                var(--shadow-lg);
    animation: plantSectionGlow 1.2s ease-in-out;
}

@keyframes plantSectionGlow {
    0%, 100% {
        box-shadow: 0 0 0 2px transparent, var(--shadow-md);
    }
    50% {
        box-shadow: 0 0 0 2px var(--color-primary-light), var(--shadow-lg);
    }
}

/* Mobile: Stack-based visual connection */
@media (max-width: 768px) {
    .dashboard-grid.connection-active::after {
        width: 40px;
        height: 2px;
        background: linear-gradient(
            to right,
            transparent,
            var(--color-primary-light),
            transparent
        );
    }
}
```

## Definition of Done Checklist

### Layout & Responsiveness Verification
- [ ] Desktop layout shows TODO and plant side-by-side appropriately
- [ ] Mobile layout stacks sections vertically without horizontal scroll
- [ ] Tablet landscape maintains good proportions
- [ ] All breakpoints tested and working smoothly
- [ ] Touch targets minimum 44px on mobile devices

### Visual Design Verification
- [ ] Color scheme matches natural, warm design goals
- [ ] Typography hierarchy clear and readable
- [ ] Consistent spacing throughout interface
- [ ] Visual elements support plant growth theme
- [ ] Professional appearance suitable for productivity app

### Accessibility Verification
- [ ] Color contrast ratios meet WCAG AA standards (4.5:1 minimum)
- [ ] Proper heading hierarchy (h1 ‚Üí h2 ‚Üí h3)
- [ ] All interactive elements keyboard accessible
- [ ] Screen readers can navigate and understand content
- [ ] Focus indicators visible and appropriate
- [ ] ARIA labels provide context for screen readers

### Interactive Connection Verification
- [ ] Visual feedback when TODO completion triggers plant growth
- [ ] Plant section responds visually to growth events
- [ ] User can understand connection between actions and plant state
- [ ] Animations enhance understanding without distraction
- [ ] Connection effects work on both desktop and mobile

### Performance & Quality Verification
- [ ] Page loads quickly (<2 seconds on 3G)
- [ ] No layout shift during loading
- [ ] Images optimized and load efficiently
- [ ] CSS animations don't impact scrolling performance
- [ ] Memory usage remains stable during extended use

## Success Criteria

Story is complete when:
1. **Unified experience achieved** - TODO and plant feel like integrated system
2. **Responsive design working** - Great experience across all device sizes
3. **Accessibility compliance** - WCAG AA standards met throughout
4. **Visual connection clear** - Users understand TODO‚Üíplant relationship
5. **Professional polish** - Interface quality matches modern productivity apps
6. **MVP ready** - Application ready for real user testing

## Blocking Dependencies

**Blocked By**:
- Story 1.1 (Foundation & Database Setup)
- Story 1.2 (Basic TODO Management)
- Story 1.3 (Plant Companion System)
- Story 1.4 (Growth Animation & Feedback)

**Blocks**: None (Completes Epic 1 - MVP Ready)

## Critical Notes for Implementer

- **Mobile First**: Design mobile experience first, then enhance for desktop
- **Performance Budget**: Total page weight <500KB for fast loading
- **Accessibility Priority**: Never compromise accessibility for visual design
- **Plant Prominence**: Plant should feel equal to TODOs, not secondary
- **Touch Optimization**: Test on actual touch devices, not just browser
- **Connection Clarity**: Visual relationship between action and reward must be obvious
- **Color Psychology**: Green should feel nurturing, not aggressive

## Test Scenarios

1. **Responsive Testing**: Test on iPhone SE, iPad, Desktop, Ultra-wide monitor
2. **Accessibility**: Navigate entire interface using only keyboard
3. **Color Blind Testing**: Verify interface works for all color vision types
4. **Performance**: Test loading on slow 3G connection
5. **Connection Understanding**: Have new user complete TODO, verify they understand plant growth
6. **Cross-browser**: Test Chrome, Firefox, Safari on desktop and mobile
7. **Screen Reader**: Test with VoiceOver (iOS) or TalkBack (Android)